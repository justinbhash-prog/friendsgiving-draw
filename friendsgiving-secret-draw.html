<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Virtual Friendsgiving Gift Draw</title>
<style>
  body {
    font-family: "Segoe UI", sans-serif;
    background: #faf3e6;
    padding: 20px;
    max-width: 720px;
    margin: auto;
  }
  h1 { color: #8b4513; text-align: center; }
  .hidden { display:none; }
  .box {
    background:#fff; padding:20px; border-radius:10px; margin-top:20px;
    border:1px solid #d2a679;
  }
  button {
    padding:10px 14px; background:#8b4e24; color:white; border:none;
    border-radius:6px; cursor:pointer;
  }
</style>
</head>
<body>

<h1>ğŸ¦ƒ Virtual Friendsgiving Secret Gift Draw</h1>

<div id="pw-screen">
  <h2>Enter Password</h2>
  <input type="password" id="pw" placeholder="Password">
  <br><br>
  <button onclick="checkPW()">Enter</button>
</div>

<div id="main" class="hidden">
  <div class="box">
    <h2>Friendsgiving Rules</h2>
    <p>ğŸ Everyone gets a random person to buy a gift for.</p>
    <p>ğŸš« Partners cannot get each other.</p>
    <p>ğŸ’µ Suggested Limit: $25â€“$35</p>
  </div>

  <button onclick="generateDraw()" style="margin-top:20px;">Generate Assignments</button>

  <div id="results" class="box hidden"></div>
</div>

<script>
function checkPW() {
  const correct = "beensgreenstomatoespotatoes";
  if (document.getElementById("pw").value === correct) {
    document.getElementById("pw-screen").classList.add("hidden");
    document.getElementById("main").classList.remove("hidden");
  } else alert("Incorrect password.");
}

function generateDraw() {
  const names = ["Kevin","Devin","Justin H.","Zikiyah","Justin G.","Taylor"];
  const partners = {
    "Kevin":"Devin","Devin":"Kevin",
    "Justin H.":"Zikiyah","Zikiyah":"Justin H.",
    "Justin G.":"Taylor","Taylor":"Justin G."
  };
  function shuffle(a){return a.sort(()=>Math.random()-0.5)}

  let receivers, assignment={}, valid=false;
  for(let attempt=0; attempt<600; attempt++){
    receivers = shuffle([...names]);
    let ok=true;
    assignment={};
    for(let i=0;i<names.length;i++){
      let g = names[i], r = receivers[i];
      if(g===r || partners[g]===r){ ok=false; break; }
      assignment[g]=r;
    }
    if(ok){ valid=true; break; }
  }
  if(!valid){ alert("Try again."); return; }

  const res = document.getElementById("results");
  res.innerHTML = "<h2>Reveal Your Person</h2>";
  res.classList.remove("hidden");

  Object.keys(assignment).forEach(g=>{
    const btn = document.createElement("button");
    btn.textContent = "Reveal for " + g;
    btn.onclick = ()=>alert(g + ", you are buying a gift for: " + assignment[g]);
    res.appendChild(btn);
    res.appendChild(document.createElement("br"));
    res.appendChild(document.createElement("br"));
  });
}
</script>

</body>
</html>
